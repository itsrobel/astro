import{d as O,c as m,g,a,i as s,b as w,e as Q,r as U,s as W,t as y,F as C}from"./web._UAUFwkQ.js";var X=y('<div class="flex flex-col"><!$><!/><div id=prompt class=flex><span>[robellion]</span><span>[<!$><!/>]</span><input type=text class="bg-transparent border-none focus:outline-none w-full">'),Y=y('<div class="flex flex-col"><span id=dir>[robellion][<!$><!/>]<!$><!/></span><!$><!/>'),Z=y("<span>");async function ee(){try{let r=await(await fetch("/api/term",{method:"GET"})).json();return r=r.projects,r}catch(n){return console.error(n),[]}}function x(n,r){return n.find(l=>l.name===r)}function te(n){window.location.href=n}function ae(){const[n,r]=m(""),[l,E]=m([]),[d,k]=m([]),[i,P]=m("~");(async()=>{ee().then(e=>{k(e)})})();const u={ls:()=>i()==="~"?d().map(e=>e.name):[x(d(),i()).name+".sh"],cd:e=>{const t=o=>o==="~"?!0:x(d(),o)!==void 0,p=o=>t(o)?(P(o),!0):!1;return(e===void 0||e==="home")&&(e="~"),p(e)?["directory changed"]:["No such directory"]},history:()=>l().map(t=>t.command),help:()=>["ls - list files and directories","cd - change to director","history - show command history","help - show this help","sh - run a project"],sh:e=>{if(e===void 0)return["No such project"];if(e.includes("/"))return["robellion"];{let t=x(d(),e.split(".")[0]);i()===t.name&&e===`${t.name}.sh`&&(console.log("running "+t.name),te(t.link))}}},N=()=>{let e=n().split(" ");if(e[0]in u)return e.length-1>u[e[0]].length?(console.log("too many arguments"),"too many arguments"):e.length>1?u[e[0]].apply(null,e.toSpliced(0,1)):u[e[0]]()},F=e=>{if(e.key==="Enter"){let t={command:n(),directory:i(),output:N()};E([...l(),t]),r("")}};return(()=>{var e=g(X),t=e.firstChild,[p,b]=a(t.nextSibling),o=p.nextSibling,H=o.firstChild,_=H.nextSibling,T=_.firstChild,V=T.nextSibling,[v,D]=a(V.nextSibling);v.nextSibling;var $=_.nextSibling;return s(e,w(C,{get each(){return l()},children:c=>(()=>{var f=g(Y),h=f.firstChild,G=h.firstChild,M=G.nextSibling,[S,R]=a(M.nextSibling),q=S.nextSibling,z=q.nextSibling,[A,B]=a(z.nextSibling),I=h.nextSibling,[J,K]=a(I.nextSibling);return s(h,()=>c.directory,S,R),s(h,()=>c.command,A,B),s(f,w(C,{get each(){return c.output},children:L=>(()=>{var j=g(Z);return s(j,L),j})()}),J,K),f})()}),p,b),s(_,i,v,D),$.$$keydown=F,$.$$input=c=>{r(c.target.value)},Q(()=>W($,"value",n())),U(),e})()}O(["input","keydown"]);export{ae as Terminal};
